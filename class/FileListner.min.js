export default class FileListner{constructor(e,t,n){this.selfName="list-info",this.filesLocation=e,this.itemsName=t,this.infoSpaceId=n,this.infoSpace=document.getElementById(n),this.listeners=new Map}init(){this.removeAllListeners(),this.items=document.getElementsByClassName(this.itemsName),0===this.items.length?console.error("No items found with class name:",this.itemsName):Array.from(this.items).forEach(h=>{var e=async()=>{this.infoSpace.style.display="flex";var e=h.getAttribute("link"),e=await this.getInfo(e),t=document.createElement("label"),n=(t.innerText="Name:",document.createElement("span")),i=(n.innerText=e.name,document.createElement("label")),s=(i.innerText="Parent:",document.createElement("span")),a=(s.innerText=e.parent,document.createElement("label")),l=(a.innerText="Size:",document.createElement("span")),o=(l.innerText=e.size,document.createElement("label")),r=(o.innerText="Last Modified:",document.createElement("span")),c=(r.innerText=e.lastModified,document.createElement("label")),m=(c.innerText="Creation:",document.createElement("span"));m.innerText=e.creation,this.infoSpace.innerHTML="",this.infoSpace.appendChild(t),this.infoSpace.appendChild(n),this.infoSpace.appendChild(i),this.infoSpace.appendChild(s),this.infoSpace.appendChild(a),this.infoSpace.appendChild(l),this.infoSpace.appendChild(o),this.infoSpace.appendChild(r),this.infoSpace.appendChild(c),this.infoSpace.appendChild(m)},t=()=>{this.infoSpace.innerHTML="",this.infoSpace.style.display="none"};h.addEventListener("mouseenter",e),h.addEventListener("mouseleave",t),this.listeners.set(h,{mouseenter:e,mouseleave:t})})}removeAllListeners(){this.listeners&&(this.listeners.forEach((e,t)=>{t.removeEventListener("mouseenter",e.mouseenter),t.removeEventListener("mouseleave",e.mouseleave)}),this.listeners.clear())}async getInfo(e){return await(await fetch(this.filesLocation+"?path="+e)).json()}}