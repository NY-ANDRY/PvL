export default class FileListner{constructor(e,t,n){this.selfName="list-info",this.filesLocation=e,this.itemsName=t,this.infoSpaceId=n,this.infoSpace=document.getElementById(n)}init(){this.items=document.getElementsByClassName(this.itemsName),0===this.items.length?console.error("No items found with class name:",this.itemsName):Array.from(this.items).forEach(r=>{r.addEventListener("mouseenter",async()=>{this.infoSpace.style.display="flex";var e=r.getAttribute("link"),e=await this.getInfo(e),t=document.createElement("label"),n=(t.innerText="Name:",document.createElement("span")),i=(n.innerText=e.name,document.createElement("label")),a=(i.innerText="Parent:",document.createElement("span")),s=(a.innerText=e.parent,document.createElement("label")),o=(s.innerText="Size:",document.createElement("span")),l=(o.innerText=e.size,document.createElement("label")),c=(l.innerText="Last Modified:",document.createElement("span")),d=(c.innerText=e.lastModified,document.createElement("label")),p=(d.innerText="Creation:",document.createElement("span"));p.innerText=e.creation,this.infoSpace.innerHTML="",this.infoSpace.appendChild(t),this.infoSpace.appendChild(n),this.infoSpace.appendChild(i),this.infoSpace.appendChild(a),this.infoSpace.appendChild(s),this.infoSpace.appendChild(o),this.infoSpace.appendChild(l),this.infoSpace.appendChild(c),this.infoSpace.appendChild(d),this.infoSpace.appendChild(p)}),r.addEventListener("mouseleave",()=>{this.infoSpace.innerHTML="",this.infoSpace.style.display="none"})})}async getInfo(e){return await(await fetch(this.filesLocation+"?path="+e)).json()}}